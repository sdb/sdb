{% extends "base.html" %}

{% load social_extras %}

{% block main_content %}
{% block social_content %}{% endblock %}
{% endblock %}

{% block sidebar_extra %}
      <div class="box">
        <form action="{% url search_with_param %}" method="get">
          <input type="text" value="{{ query }}" id="searchbox" class="search" name="search" />
          <input type="submit" style="display: none;" value="Search" id="searchbox_button" class="searchbox_button" />
        </form>
      </div>

      <ul class="types">
        <li><a href="{% url social %}" title="Show all"><img src="/media/img/home.png" width="16" height="16" /></a></li>
        <li><a href="{% url social_by_typ 'bookmark' %}" title="Show bookmarks only"><img src="/media/img/bookmark.png" width="16" height="16" /></a></li>
        <li><a href="{% url social_by_typ 'photos' %}" title="Show photo updates only"><img src="/media/img/photography.png" width="16" height="16" /></a></li>
        <li><a href="{% url social_by_typ 'collab' %}" title="Show collaboration events only"><img src="/media/img/collaboration.png" width="16" height="16" /></a></li>
        <li><a href="{% url social_by_typ 'fav' %}" title="Show favs only"><img src="/media/img/heart.png" width="16" height="16" /></a></li>
        <li><a href="{% url social_by_typ 'post' %}" title="Show blog posts only"><img src="/media/img/pen.png" width="16" height="16" /></a></li>
        <li><a href="{% url social_by_typ 'status' %}" title="Show status updates only"><img src="/media/img/twitter.png" width="16" height="16" /></a></li>
        <li><a href="{% url social_by_typ 'comment' %}" title="Show comments only"><img src="/media/img/comment.png" width="16" height="16" /></a></li>
        <li><a href="{% url social_by_typ 'book' %}" title="Show books only"><img src="/media/img/library.png" width="16" height="16" /></a></li>
        <li><a href="{% url social_by_typ 'program' %}" title="Show programs only"><img src="/media/img/process.png" width="16" height="16" /></a></li>
        <li><a href="{% url social_by_typ 'travel' %}" title="Show tarvelling only"><img src="/media/img/world.png" width="16" height="16" /></a></li>
        <li><a href="{% url social_by_typ 'community' %}" title="Show community activity only"><img src="/media/img/community.png" width="16" height="16" /></a></li>
        <!--
        <li><a href="{% url social_by_typ 'wish' %}" title="Show wishlist items only"><img src="/media/img/basket.png" width="16" height="16" /></a></li>
        -->
        <li><a href="{% url social_by_typ 'exam' %}" title="Show exams only"><img src="/media/img/finished-work.png" width="16" height="16" /></a></li>
      </ul>

      <p class="box">Currently aggregating the following services:</p>
      <div id="services_filter" style="display:none">
      <ul id="services" class="links">
        {% for service in filter_services|slice:":5" %}
          <li class="link visible"><a href="{% url social_by_service service.name %}">{{ service.title }}</a></li>
        {% endfor %}
        {% for service in filter_services|slice:"5:" %}
          <li class="link hidden"><a href="{% url social_by_service service.name %}">{{ service.title }}</a></li>
        {% endfor %}
      </ul>
      <p class="sidenote"><a id="show_all_services" href="javascript: return false;">More ...</a></p>
      </div>

      <noscript>
      <ul id="services" class="links">
        {% for service in filter_services %}
          <li class="link"><a href="{% url social_by_service service.name %}">{{ service.title }}</a></li>
        {% endfor %}
      </ul>
      </noscript>

<script type="text/javascript">
$(document).ready(function(){
  $('div#services_filter').fadeIn("slow");
  $("a#show_all_services").click(function(event){
    var link = $(this);
    $("li.hidden").each(function (i) {
      $(this).css("display", $(this).is(':hidden') ? "block" : "none");
      link.text(($(this).is(':hidden') ? "More" : "Less") + " ...")
    });
  });
});
</script>

{% endblock %}

